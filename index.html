<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta http-equiv="Content-Type" name="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>CodeSnippet</title>
    <!--<link rel="stylesheet" type="text/css" href="css/bootstrap.css">-->
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
 <div class="main_page">
 	<div class="header">
 	  <div class="container">
 	  	<div class="div_short"><h2>CodeSnippets</h2></div><!--
 	  	--><div class="div_long">
 	  		<ul class="top_nav">
 	  			<li><a href="#">Search page</a></li>
 	  			<li><a href="#">Add snippet</a></li>
 	  		</ul>
 	  	</div>
 	  </div>
 	</div>
 	<div class="content">
 	 <div class="container">
 	 	
 		  <div class="add_cs_block">
 		   <h3>Add your snippet</h3>
 			<form>
 			 <textarea placeholder="Your code"></textarea>
 			 <input type="text" name="keywords" placeholder="Keywords">
 			 <input type="text" name="description" placeholder="Description">
 			 <input type="text" name="tags" placeholder="Tags">
 			 <select>
 			 	<option selected disabled>Choose category</option>
 			 	<option value="js">js</option>
 			 	<option value="html">html/css</option>
 			 	<option value="server">server</option>
 			 </select>
 			 <input type="submit" value="Add snippet">
 			</form>	
 		  </div>
 		
 	
 		 <div class="search_cs_block">
 		 	<input type="text" name="serchfield">
 		 	<div class="categories">
 		 		<ul>
 		 			<li class="active">js</li>
 		 			<li>html/css</li>
 		 			<li>server stuff</li>
 		 			<li>All</li>
 		 		</ul>
 		 	</div>
 		 	<div class="results_block">
 		 	<div class="result">
 		 		<h4>Result #1 ...</h4>
 		 		<div class="result_content">
 		 			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque.</p>
 		 		<button class="copy">Copy</button><!--
 		 		--><button class="go_to">Go to</button>
 		 		</div>
 		 		
 		 		<div class="arrow" data-id="open"><img src="/img/arrow_down_icon.png"></div>
 		 	</div>
 		 	<div class="result">
 		 		<h4>Result #2 ...</h4>
 		 		<div class="result_content" id="slider">
 		 		<p>
 		 		 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque.
 		 		</p>
 		 		<button class="copy">Copy</button><!--
 		 		--><button class="go_to">Go to</button>
 		 		</div>
 		 		<div class="arrow" id="slide"><img src="/img/arrow_down_icon.png"></div>
 		 	</div>
 		 	</div>
 		 	
 		 </div>
 		
 	 </div>
 		
 	</div>
 </div>
<script src="/js/jquery-3.1.0.min.js"></script>
<!--<script type="text/javascript">
	$(document).ready(function(){
		$('.results_block .result .arrow').click(function(){
			console.log('arrow clicked');
			$(this).parents('.result').find('.result_content').slideToggle();
			$(this).toggleClass('rotate');
		});
		//copy code 
		function copyToClipboard(element) {
  var p = $(this).parents('.result').find('p');
  $("body").append(p);
  p.val($(element).text()).select();
  document.execCommand("copy");
  p.remove();
}

	});
</script>-->
<!--<script type="text/javascript">
	document.addEventListener("DOMContentLoaded", function(){

		var result = document.querySelectorAll(".results_block .result .arrow");
		for(var i=0;i<result.length;i++){
          result[i].addEventListener('click',slideToggle,false);
        }
		function slideResult(){
			this.parentElement.style.height = "auto";
		}
		// Slide toggle function
function select(currObj){
var parentofSelected = currObj.parentNode; // gives the parent DIV

var children = parentofSelected.childNodes;
var target_element = parentofSelected.querySelector(".result_content");
return target_element;
 } // end function		   

function slideToggle() {
      
var open = this.getAttribute('data-id');
console.log(open);
//var heightChecked = false;
var initHeight = 90;
var intval = null;
    window.clearInterval(intval);
    var mdiv = select(this);
    console.log(mdiv);
    /*if(!heightChecked) {
        initHeight = mdiv.offsetHeight;
        heightChecked = true;
    }*/
   if(open) {
        var h = 0;
        open = false;
        intval = setInterval(function(){
            //h--;
            mdiv.style.height = h + 'px';
            if(h <= 0)
                window.clearInterval(intval);
            }, 1
        );
    }
    else {
        var h = initHeight;
        open = true;
        intval = setInterval(function(){
            //h++;
            mdiv.style.height = h + 'px';
            if(h >= initHeight)
                window.clearInterval(intval);
            }, 1
        );
    }
}

	});

</script>-->
<script type="text/javascript">
    var minheight = 0;
var maxheight = 100;
var time = 1000;
var timer = null;
var toggled = false;

window.onload = function() {
    var controler = document.getElementById('slide');
    var slider = document.getElementById('slider');
    slider.style.height = minheight + 'px'; //not so imp,just for my example
    controler.onclick = function() {  
        clearInterval(timer);
        var instanceheight = parseInt(slider.style.height);  // Current height
        var init = (new Date()).getTime(); //start time
        var height = (toggled = !toggled) ? maxheight: minheight; //if toggled

        var disp = height - parseInt(slider.style.height);
        timer = setInterval(function() {
            var instance = (new Date()).getTime() - init; //animating time
            if(instance <= time ) { //0 -> time seconds
                var pos = instanceheight + Math.floor(disp * instance / time);
                slider.style.height =  pos + 'px';
            }else {
                slider.style.height = height + 'px'; //safety side ^^
                clearInterval(timer);
            }
        },1);
    };
};
</script>
</body>
</html>